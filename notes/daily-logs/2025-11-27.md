# Daily Learning Log

## Date: 2025-11-27

### ðŸŽ¯ Today's Focus

- [X] Billing And Cost Management
- [x] EC2 - Elastic Compute Cloud
- [ ] Hands-on lab

### ðŸ“– What I Learned

1. **AWS BUDGET AND ALARM SETUP**

   - So first we have to go to left hand side of my IAM user and click on billing and cost management, I get a lot of access denied. This is because I'm logged in as an IAM user, from my accounts.

   - And I had administrative access, but even though I have administrative access, I cannot access my billing data.

   - To fix this i have to Login to my Root account and then click on the left side then select Account and scrolling down you will find the IAM user and role access to billing information.

   - But it is deactivated. So, we need to just activate IAM access and  click on edit to activate it and this will allow IAM users to access the billing information if they are administrators.

   - Then back to my console IAM user and refresh the page it can take a bit of time and i can see my data.

   - So if you look at bills, then click on Billing Period if you have any cost for this tutorial. For this course, So you will find at the bottom of it, charges by service.

   - Next, you can go into free tier on the left hand side. So, AWs does have a free tier. And you're going to be able to see the current usage and the forecasted usage.

   -And then you will see whether or not you're going to pass the free tier usage. So if you do pass it as a forecast, it goes into the red, then you are going to be billed, so make sure you turn off anything that is turned on and potentially costing you money.

2. **AWS BUDGET HANDS-ON**

   - Then on the left hand side click on budget, And here you can create a budget that will alert you whenever you reach your thresholds.

   - So, let's create a budget. And we're going to use a template simplified. And the first one is going to be a zero spend budget. So as soon as we reach 1 cent, we're going to get an alert, so i will add my email and then create the budget.

   - You can also use another template for a monthly cost budget. And here we're saying, "Okay, we want to have a monthly cost budget of, for example, $10." And saying, "Hey, I want to spend no more than $10 per month on this course." And then, add the email recipients and create the budget.

3. **AMAZON EC2**

   - And on EC2, in which we will create our first website on AWS.

   - EC2 is one of the most popular of AWS offering. It is definitely used everywhere.

   - EC2: Elastic Compute Cloud = Infrastructure as a Service  (and this is the way to do Infrastructure as a Service on AWS).

   - It mainly consists in the capacity of:

     . Renting Virtual Machines (EC2). its is EC2 Instance.
     . Storing Data on Virtual drives (EBS).
     . Distributing loads across machine (ELB).
     . Scaling the services using an auto-scaling group (ASG).

   - Knowing how to use EC2 in AWS is fundamental to understand how the cloud works, So EC2, what can we choose for our instances, so our virtual servers that we rent from AWS? So what operating system can we choose for our EC2 instances?

   - EC2 Sizing and Configuration options:

     . Operating Systems (OS): Windows,Linux and Mac OS.
     . How much compute power and cores (CPU).
     . How much Random Access Memory (RAM).
     . How much storage space:

       - Network-attached (EBS & EFS).
       - Hardware-attached (EC2 Instance Store).

     . Network card: speed of the card, Public IP address.
     . Firewalls Rules of EC2 Instance: Security group.
     . Bootstrap scripts (Configure at first Launch): EC2 User Data.

   - EC2 User Data:

     . So it is possible to bootstrap our instances using the EC2 User Data script.
     . Bootstrapping means launching command when a machines starts.
     . That stript only run once at the instance first start and then will never be run again

     . EC2 User Data is use to automate boot tasks hence the name Bootstrapping such as:

      . Installing Update.
      . Installing Software.
      . Downloading common file on the internet.
      . Or anything you can think of.

   - EC2 User Data Script runs with the root user, so any command you have will have the sudo rights, okay?

4. **LAUNCHING AN EC2 INSTANCE RUNNING LINUX**

   - Launching our first virtual server using AWS console.
   - Get a first high-level approach to the various parameters.
   - See that our Web server is launched using EC2 User Data.
   - Learn how to start/stop and terminate our instance.

### ðŸ’» Hands-on Practice

1. **Launching our first virtual server using AWS console**

  -So let's get started and launch our first EC2 instance For this, I'm gonna go into the EC2 Console, then I will click on Instances then launch instances.

  -So in there I'm able to launch my first EC2 instance and to do so I need to add a name and tags. So the name is going to be My First Instance.

  -Next, you need to choose a base image for your EC2 instance.This is the operating system of the instances.

  -Then i am going to choose Amazon linux and choose 64-bit and i can even create my AMIs but i am going to leave it as default setting as it is.

  -Then i am going to select instance types then pick t2 micro or the one available in my region.

  -Okay next, a key pair to log into your instance. So this is necessary if we use the SSH utility to access our instance and we will be using the SSH utility but we can proceed without creating the key pair.

  -So let's go ahead and create a new key pair and the name is going to be EC2Learning. Then you need to choose a key pair type. So we'll be using the RSA encrypted, okay, this is good. And then the key pair format. So if you have Mac or Linux or Windows 10, then you can use the .pem format then create the key pair and downloaded it.

  -Next is Security settings, So for now, I will not touch anything. My instance is going to get a public IP and then we need to connect to our instance. And so for this, there's going to be a security group attached to our instance, which is going to control the traffic from and to our instance, and therefore we can add rules.

  -And the first security group created will be called launch-wizard-1. So created by the console directly and we can define multiple rules. So the first rule we want to have is to allow SSH traffic from anywhere. So we leave it as this and this will create a rule in our security group to allow SSH traffic, but we also want to allow HTTP traffic from the internet. So we'll tick that box and this is because we're going to launch a web server on our EC2 instance, so we need it as well.

  -Let's configure the storage so then we can configure the storage. And as we can see we have eight gigabits gp2 root volume that will leave it as is, okay? Because in the free tier we can get up to 30 gigabytes of EBS general purpose SSD storage. So this is good. And we only have one volume necessary.

  -If you go into advanced, you could configure them and see a little bit more information, okay? And the one important thing to note in here is the delete on termination.

  -That means that once we terminate our EC2 instance, then that volume is also going to be deleted. Okay, so we leave everything as is and we'll be get back into the simple mode.

  -Next, for advanced details, this is where it gets interesting. So I will skip spot, I will skip IAM instance profile. Don't worry, I will go over them once we need to explore them and scroll down.

  -And at the bottom there is user data. User data is when we pass a script.

  -So some comments to our EC2 instance to execute on the first launch of our EC2 instance and only the first launch.

  -And therefore on the first launch, we want to be able to pass these command right here:

 #!/bin/bash
 # Use this for your user data (script from top to bottom)
 # install httpd (Linux 2 version)
 yum update -y
 yum install -y httpd
 systemctl start httpd
 systemctl enable httpd
 echo "<h1>Hello World from $(hostname -f)</h1>" > /var/www/html/index.html

 for Amazon Linux 2023:
#!/bin/bash
dnf update -y
dnf install -y httpd
systemctl enable httpd
systemctl start httpd
echo "<h1>Hello World from $(hostname -f)</h1>" > /var/www/html/index.html

# Disable SELinux (prevents permission issues)

setenforce 0
sed -i 's/^SELINUX=enforcing/SELINUX=permissive/' /etc/selinux/config

  -Paste everything into User Data, And that means that this script is going to be executed when the instance is first started and only once In the whole lifecycle of the instance.

  -And what it's going to do is that it's going to update a few things, then install the HTTPD web server on the machine and then write a file, an HTML file. That will be our web server.

  -So finally for summary, we want to start one instance, and then click on Launch instance.

  -Then click on view instances, there's an instance ID which is just a unique identifier for my instance. There is a public IPv4 address. This is what we're going to use to access our EC2 instance. Or there is a private IPv4 address, which is how to access that instance internally on the AWS network, which is private.

  -And all the rule allowing all communication outwards, which allows the instance to access the internet.

  -So now let's have a look at the web server running on my instance. And for this you go on public IPv4 address, you copy this or you click on Open Address and it doesn't work but if i copy and paste it on web browser it works.

  -But the reason it doesn't work in open address is that in the URL you need to make sure that you're using the HTTP protocol, so http:// and then the IP.

  -So we have an EC2 instance and it's running, but if we don't need it, we can go to instance states and then click on Stop Instance. And in the cloud you can start and stop instances just as you wish. And why would you stop an instance? Well, the longer you leave it running, the more you're going to pay of course.

  -So we can do in instance state and then terminate instance. If we do so, we're going to get a warning message and don't click on Terminate

  -But don't terminate the instance i am going to use it and iam going to start my instance back, So if you stop an instance and then you start it later on, then AWS will maybe change its public IPv4.

  -But one thing that has not changed is the private IPv4, the private IP will always stay the same, but the public IPv4 may change.

# Code examples here

#!/bin/bash
# Use this for your user data (script from top to bottom)
# install httpd (Linux 2 version)
yum update -y
yum install -y httpd
systemctl start httpd
systemctl enable httpd
echo "<h1>Hello World from $(hostname -f)</h1>" > /var/www/html/index.html

*I could overcome this issue by accessing the machine and with sudo run again each step of the script. still on last step the index.html was not being created due to access permissions on this path, so I had to run  sudo chown -R $USER:$USER /var/www and then finally create the index.html with the echo command. After this I could successfully access the hello world from the IP address.

Here's the command:
for debugging
sudo cat /var/log/cloud-init-output.log
