# Daily Learning Log

## Date: 2025-11-30

### ðŸŽ¯ Today's Focus
- [ ] EC2 Instance Storage
- [ ] AMI - AMAZON MACHINE IMAGE
- [ ] Hands-on lab

### ðŸ“– What I Learned

1. **EBS (Elastic Book Store) OVERVIEW**

   - What's an EBS Volume:

      . An EBS (Elastic Block Store) Volume is a network drive you can attach to your instances while they run.
      . It allows your instances to persist data, even after their termination.
      . They can only be mounted to one instances at a time (at the CCP Level).
      . They are bound to specific availability zone

   - Analogy: Think of them as a 'network USB stick':

      . So it's a USB stick that you can take from a computer and put it in another computer, but you actually don't physically put it in a computer. It's a attached through the network.

   - EBS VOLUME:

      . It's a network drive (i.e. not a physical drive)
         . its uses the network to communicate the instance, which means there might be a bit of latency.
         . its can be detached from one EC2 instance and attached to another one quickly.

      . It's locked to an Availability Zone (AZ)
         . An EBS Volume in us-east-1a cannot be attached to us-east-1b.
         . To move a volume across, you first need to snapshot it.

      . Have a provisioned capacity (size in GBs and IOPS)
         . You get billed for all the provisioned capacity
         . you can increase the capacity of the drive over time.

2. **EBS - Delete on Termination**

   - Diagram
   - And so use case, right, would be for example, that if you want to preserve the root volume when an instance is terminated, for example, to save some data, then you can disable delete on termination for the root volume and you'll be good to go.

3. **EBS Multi-Attach**

   - About EBS Multi-Attach:

      . While I say that in the previous lecture that EBS volumes cannot be attached to multiple instances, I know it is not true for io1 and io2 volume types: this is called the EBS Multi-Attach feature.

      . From an AWS Cloud Practitioner exam perspective this out of scope for the exam.
      . In order to keep the course simple and accessible, I have left out this feature from the course.

      . If you are curious to learn about EBS Multi-Attach, you will find it in the AWS Certified Solutions Architect Associate course, or in the AWS documentation.

4. **EBS HANDS-ON**

   - On my instances page (details), then i click on storage. As you can see, we got one volume of 8 gigabytes currently attached into our EC2 instance.

   - So what I can do is I can click on this volume and it will take me into the volumes interface of AWS.

   - To access it, you can just go on the left hand side and click on volumes.

   - What I can do is I can create a second volume. So let me create a volume and I will have many options to choose from, GP2, GP3 and so on but I will just use GP2 of type of size two gigabytes.

   - And then for availability zone, i have to choose the same where my EC2 instances is and i will click on instance, then i will click on networking on my instance details page then i will check for the Availability Zone and i will go back to volume page and choose the same Availability Zone on my EC2 instance and then create the volume.

   - Then i will click on the volume i just created and check if is available and i am going to attach it. So i will click on action on the top of volume page and i am going to select Attach Volume then i am going to attach running instance to it and then click Attach Volume.

   - To actually use this new block device, it's a bit more complicated and out of scope for this course, but you can go to format EBS volume attach EC2, and you should find something like,(format EBS volume attach EC2).

   - Okay, so we have our two EBS volumes in here and what I wanna show you now is a cool behavior. So what happens if I terminate my instance? Well remember, and I will show you again, this one root volume of eight gigabytes has the delete on termination attribute.

   - So how do we know? Well, if I go into my storage and then go to my block devices, into this table right here, and scroll all the way right, you see the first one has delete on termination yes and the second one no. So why this one is yes?.

   - That is because of when first launching an instances the setting under our storage is 8gb and the delete on termination option is yes and our root volume is attach to it but we can change from yes to no.

   - And so therefore, if I go ahead and terminate my instance which I will, so it says successfully terminated so it's going to really remove it my instance page.

   - I can go back into my EBS volumes. I can refresh them. And what's going to happen is that this one soon is going to be available so because it's going to be detached from my EC2 instance and then it's going to be terminated.

   - So my 8 gigabyte volume has now disappeared. Only my 2 gigabyte volume is left and if I go to my EC2 console, well, it says that my first instance has been terminated.

5. **EBS Snapshots**

   - Make a backup (Snapshot) of your EBS volume at a point in time.

   - Not necessary to detach a volume to do snapshot,but Recommended.

   - Can copy snapshot across AZ or Region, and the idea is that you would be able to transfer some of your data in a different region on AWS to leverage the global infrastructure.

   - So if we look at US-EAST-1A, and we want to transfer an EBS volume to US-EAST-1B, the way we do it is that we would have the EBS volume attached to the EC2 instance, and then we would snapshot it.

   - Now the EBS snapshots exist in your region. And that EBS snapshot can be used to restore a new EBS volume in another availability zone. And then now that this is done, we can attach the new EBS volume to an EC2 instance in US-EAST-1B.

   - EBS Snapshot Features:

     . EBS Snapshot Archive-
        . Move a snapshot to an "Archive tier" that's 75% cheaper.
        . Take within 24 or 72 hours for restoring the archive.

     . Recycle bin for EBS Snapshot-
        . Setup rules to retain deleted snapshots so you can recover them after an accidental deletion.
        . Specify retention  from (1 day to 1 year).

6. **EBS SNAPSHOT HANDS-ON**

   - On instance page we can click on volume then click on action on volume page then click on  Create a snapshot. So we can add a Description, for example, DemoSnapshots, and then click on Create snapshots.

   - So from the left hand side in instance page you will click on snapshot. For first of all, what we can do is that we can Copy this snapshot into other region.So if you right click and do Copy Snapshots, into any destination region that you want. for example, to have a Disaster Recovery Strategy, to make sure data is backed up in another region of AWS.

   - Another thing I can do is take the Snapshot, and I can recreate a Volume from it. So Action, Create volume from snapshots.

   - And then the target AZ doesn't have to remain eu-west-1a, it can be, for example, eu-west-1b. And we can also encrypt these volumes if you wanted to and add some Tags then click on create volume.

   - Then we can create our Recycle bin, So on the top of volume page click on recycle bin then click on create retention rule and we give name to the rules (DemoRetentionRule) and my resource types is EBS Snapshot, I will Apply to all resources and retain them for one day or as long as i want. for Rule Lock Setting, I will leave this unlocked and then click on create retention rules,

   - And now on the Resources, we can see if we have Resources in the Recycle Bin.

   - So let's go back into our Snapshots in the EC2 Console. So I'm going to go into EC2. And what I'm going to do is take the Snapshots, and first, before I delete it, I wanna show you the Storage Tiers. So right now it is a Standard Storage Tier, But you can move the Storage Tier, by Archiving a snapshots,click on action on the snapshot page and click on Archive snapshot and so I need to move the Storage Tier into another Pricing Level, and click on Archive snapshot.

   - But anyway, let's go ahead and delete the snapshot. So we'll delete the Snapshots.

   - But now thanks to the Recycle Bin,i can recover my snapshot. well, if I refresh here my Resources, I can now see that my Snapshot has appeared here. And what I can do is click on it and Recover it.

7. **AMI OVERVIEW**

   - AMI - Amazon Machine Image - Is what powers our EC2 instances.

   - AMI are customization of an EC2 instance:
      . You can add your own software, configuration, operating systems, monitoring...
      . Faster boot/ configuration time because all your software is pre-package.

   - AMI are be built for a specific region (and can be copied across regions).

   - You can launch EC2 instance from:
      . A public AMI - AWS provided
      . Your own AMI - You can make and maintain them yourself.
      . An AWS Marketplace AMI - An AMI someone else made (and potentially sells)

   - AMI Process (From an EC2 instance):

      . Start an EC2 instance and customize it.
      . Stop the instance (for data integrity).
      . Build an AMI - this will also create EBS snapshots.
      . Launch instances from  other AMIs

   - So we have US-EAST-1A, and we can create the same instance as US-EAST-1B, so the process is we launch the instance in US-EAST-1A, we're going to customize it then we're going to create an AMI from it this will be our custom AMI. And then in US-EAST-1B we will be able to launch from that AMI and we'll effectively create a copy of our EC2 instance.

8. **AMI HANDS-0N**

   - So for this i am going to launch an instance without given it name and i will select Amazon linux 2 and i will use t2 micro and i will my existing key pair as my key pair and Then I will scroll down. I would edit the network settings and I will select an existing security group being my launch wizard one from before. Then we'll have the same storage and for advanced details, in User data part i will not copy the last line of code with it and then i will launch the instance.

   - So what we're going to do out of it is we're going to create an AMI because we want to just save the state of our EC2 instance and reuse that. So I right click on the instance and I will do image and templates and then I will create an image.

   - So we'll call this one 'DemoImage' and we're going to create our own AMI. And then we have these settings right here. We'll just leave it as is. Go here and click on create image.

   - So if I go to the left-hand side and click on AMI's, my DemoImage AMI is registered. And right now the status is pending and then wait till it start running/available.

   - And what I can do now is I can launch instances from AMI by clicking it at the top of AMI page Or if you are in the instance creation page we can launch instances And this one is called 'From AMI'.

   - You can also go into the 'my AMI's tab'. And you have the ones owned by me and you can choose the DemoImage that you just created from before.

   - So in that case, you scroll down, you select to key pair, Network settings, again, we edit them and we just select the existing launchers in one security group.

   - I'm going to enter some User data. So I copy the first three lines, okay. Which are starting with the hash. And then the last line, which is the echo on the new line.

   - And so what we do is that we only just write a new file. So we don't need to reinstall HTTPD because this AMI already contains HTTPD which is why we will speed up in the boot up time. This is why you would create an AMI.

   - So we launch an instance and now the instance is launched. So I can just click on it.My instance from my AMI is now running. I take the public IP address and then I see the 'Hello World' from this.

   - And as you can see, this was much quicker because we didn't have to install HTTPD again. So this is the whole power of AMI's. And you can imagine, well, it could be just more than that. It could be security software, a lot of prerequisite software, and so on.

   - Then you package it as an AMI, and then you just start from the AMI, maybe do some end customization at the end but you have a much faster boot-up.

   - Now to get back from this what you do is that you take your two instances and you can terminate them.

### ðŸ’» Hands-on Practice

```code
# Code examples here
